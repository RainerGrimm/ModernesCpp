<div class="vorspann">Ein Funktions-Template ist eine Familie von Funktionen. In diesem Beitrag möchte ich tiefer in das Thema eintauchen.<br></div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826261_f3e5a64d31.png" title="<ir_inline itemname=bilder_mvp_bild_var2:1 type=2>" style="max-height: 25px; max-width: 25px;"><br></div>
<div class="text">Hier ist eine kurze Erinnerung, um alle auf den gleichen Wissensstand zu bringen.</div>
<div class="text">Wenn ein Funktions-Template wie <span class="tx_code">max</span> für <span class="tx_code">int</span> und <span class="tx_code">double</span> instanziiert wird, <br></div>
<div class="pre">template &lt;typename T&gt;<br>T max(T lhs,T rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>int main() {<br>&nbsp; <br>&nbsp;&nbsp;&nbsp; max(10, 5);<br>&nbsp;&nbsp;&nbsp; max(10,5, 5,5);<br>&nbsp; <br>}<br></div>
<div class="text">erzeugt der Compiler ein vollständig spezialisiertes Funktions-Template für <span class="tx_code">int</span> und <span class="tx_code">double</span>:<span class="tx_code"> max&lt;int&gt;</span> und<span class="tx_code"> max&lt;double&gt;</span>. Der generische Teil ist in beiden Fällen leer: <span class="tx_code">template&lt;&gt;.</span> Dank C++ Insights kann ich tiefere Einsichten anbieten. </div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826266_600fc25079.png" title="<ir_inline itemname=bilder_mvp_bild_var2:2 type=2>" style="max-height: 25px; max-width: 25px;"><br></div>
<div class="text">Jetzt möchte ich in die Details eintauchen. Was passiert, wenn ich Funktions-Templates und gewöhnliche Funktionen (kurz: Funktionen) verwende?</div>
<div class="ztitel">Überladen von Funktions-Templates und Funktionen</div>
<div class="text">Dazu verwende ich erneut die Funktion <span class="tx_code">max</span>. Diesmal instanziiere ich sie für <span class="tx_code">float</span> und <span class="tx_code">double</span>. Dazu stelle ich eine Funktion <span class="tx_code">max</span> bereit, die auch doubles nimmt.<br></div>
<div class="text">Hier ist mein nächstes Beispiel:</div>
<div class="pre">template &lt;typename T&gt;<br>T max(T lhs,T rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>double max(double lhs, double rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>int main() {<br>&nbsp; <br>&nbsp;&nbsp;&nbsp; max(10.5f, 5.5f); // (1)<br>&nbsp;&nbsp;&nbsp; max(10.5, 5.5);&nbsp;&nbsp; // (2)<br>&nbsp; <br>}<br></div>
<div class="text">Dabei drängt sich eine Frage auf: Was passiert in den mit (1) und (2) markierten Zeilen? Hier sind meine konkreten Fragen:</div>
<div class="text"><ul><li>(1): Wählt der Compiler das Funktions-Template oder die Funktion aus und erweitert den <span class="tx_code">float</span> zu <span class="tx_code">double</span>?</li><li>(2): Sowohl die Funktion als auch das Funktions-Template sind ideale Kandidaten. Dies ist mehrdeutig. Verursachen diese Zeilen einen Compilerfehler?</li></ul></div>
<div class="text">Die Antworten auf diese Fragen sind intuitiv und folgen der allgemeinen Regel in C++. Der Compiler wählt den am besten passenden Kandidaten aus.<br></div>
<div class="text"><ul><li>(1): Das Funktions-Template ist ein besserer Kandidat, weil die Funktion eine Erweiterung von <span class="tx_code">float</span> nach <span class="tx_code">double</span> erfordern würde.</li><li>(2): Das Funktions-Template und die Funktion sind ideale Kandidaten. In diesem Fall tritt eine zusätzliche Regel in Kraft. Wenn beide gleich gut passen, bevorzugt der Compiler die Funktion.</li></ul></div>
<div class="text">Wie zuvor hilft <a title="Link auf https://cppinsights.io/lnk?code=dGVtcGxhdGUgPHR5cGVuYW1lIFQ+ClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKZG91YmxlIG1heChkb3VibGUgbGhzLCBkb3VibGUgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNWYpOwogICAgbWF4KDEwLjUsIDUuNSk7CiAgCn0KCg==&amp;insightsOptions=cpp2a&amp;std=cpp2a&amp;rev=1.0" alt="%7B%22user_params%22%3A%22%22%2C%22ir_link%22%3A1%2C%22version%22%3A1%2C%22custom%22%3A%7B%7D%2C%22text%22%3A%22C%2B%2B%20Insights%22%2C%22href%22%3A%22https%3A%2F%2Fcppinsights.io%2Flnk%3Fcode%3DdGVtcGxhdGUgPHR5cGVuYW1lIFQ%2BClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKZG91YmxlIG1heChkb3VibGUgbGhzLCBkb3VibGUgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNWYpOwogICAgbWF4KDEwLjUsIDUuNSk7CiAgCn0KCg%3D%3D%26amp%3BinsightsOptions%3Dcpp2a%26amp%3Bstd%3Dcpp2a%26amp%3Brev%3D1.0%22%2C%22alias%22%3A%22%22%2C%22subject%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22mediasync_id%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22destination%22%3A%22https%3A%2F%2Fcppinsights.io%2Flnk%3Fcode%3DdGVtcGxhdGUgPHR5cGVuYW1lIFQ%2BClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKZG91YmxlIG1heChkb3VibGUgbGhzLCBkb3VibGUgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNWYpOwogICAgbWF4KDEwLjUsIDUuNSk7CiAgCn0KCg%3D%3D%26amp%3BinsightsOptions%3Dcpp2a%26amp%3Bstd%3Dcpp2a%26amp%3Brev%3D1.0%22%2C%22target%22%3A%22_blank%22%7D" href="https://cppinsights.io/lnk?code=dGVtcGxhdGUgPHR5cGVuYW1lIFQ+ClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKZG91YmxlIG1heChkb3VibGUgbGhzLCBkb3VibGUgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNWYpOwogICAgbWF4KDEwLjUsIDUuNSk7CiAgCn0KCg==&amp;insightsOptions=cpp2a&amp;std=cpp2a&amp;rev=1.0" class="">C++ Insights</a> dabei, diesen Prozess zu visualisieren.</div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826272_6b71a2df6f.png" title="<ir_inline itemname=bilder_mvp_bild_var2:3 type=2>" style="max-height: 25px; max-width: 25px;"><br></div>
<div class="text">Der Screenshot zeigt es explizit. Nur der Aufruf von <span class="tx_code">max</span> für <span class="tx_code">double</span> (2) löst die Instanziierungen des Funktions-Templates aus.</div>
<div class="text">Beim weiteren Text gilt eine Einschränkung zu beachten: Ich ignoriere <a title="Link auf https://www.grimm-jaud.de/index.php/blog/tag/concepts" alt="%7B%22user_params%22%3A%22%22%2C%22ir_link%22%3A1%2C%22version%22%3A1%2C%22href%22%3A%22https%3A%2F%2Fwww.grimm-jaud.de%2Findex.php%2Fblog%2Ftag%2Fconcepts%22%2C%22custom%22%3A%7B%7D%2C%22text%22%3A%22Concepts%22%2C%22alias%22%3A%22%22%2C%22subject%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22mediasync_id%22%3A%22%22%2C%22destination%22%3A%22https%3A%2F%2Fwww.grimm-jaud.de%2Findex.php%2Fblog%2Ftag%2Fconcepts%22%2C%22target%22%3A%22_blank%22%2C%22anchor%22%3A%22%22%7D" href="https://www.grimm-jaud.de/index.php/blog/tag/concepts" class="">Concepts</a> in diesem Artikel.<br></div>
<div class="ztitel">Unterschiedliche Template Argumente<br></div>
<div class="text">Nun verwende ich das Funktions-Template <span class="tx_code">max</span> mit zwei Werten unterschiedlichen Datetyps.</div>
<div class="pre">template &lt;Typname T&gt;<br>T max(T lhs,T rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>int main() {<br>&nbsp; <br>&nbsp;&nbsp;&nbsp; max(10.5f, 5.5);<br>&nbsp; <br>}</div>
<div class="text">Dieses Programm möchte ich gerne mit <a title="Link auf https://cppinsights.io/lnk?code=dGVtcGxhdGUgPHR5cGVuYW1lIFQ+ClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNSk7CiAgCn0KCg==&amp;insightsOptions=cpp2a&amp;std=cpp2a&amp;rev=1.0" alt="%7B%22alias%22%3A%22%22%2C%22href%22%3A%22https%3A%2F%2Fcppinsights.io%2Flnk%3Fcode%3DdGVtcGxhdGUgPHR5cGVuYW1lIFQ%2BClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNSk7CiAgCn0KCg%3D%3D%26amp%3BinsightsOptions%3Dcpp2a%26amp%3Bstd%3Dcpp2a%26amp%3Brev%3D1.0%22%2C%22custom%22%3A%7B%7D%2C%22text%22%3A%22C%2B%2B%20Insights%22%2C%22subject%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22mediasync_id%22%3A%22%22%2C%22anchor%22%3A%22%22%2C%22target%22%3A%22_blank%22%2C%22destination%22%3A%22https%3A%2F%2Fcppinsights.io%2Flnk%3Fcode%3DdGVtcGxhdGUgPHR5cGVuYW1lIFQ%2BClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNSk7CiAgCn0KCg%3D%3D%26amp%3BinsightsOptions%3Dcpp2a%26amp%3Bstd%3Dcpp2a%26amp%3Brev%3D1.0%22%2C%22user_params%22%3A%22%22%2C%22ir_link%22%3A1%2C%22version%22%3A1%7D" href="https://cppinsights.io/lnk?code=dGVtcGxhdGUgPHR5cGVuYW1lIFQ+ClQgbWF4KFQgbGhzLFQgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKaW50IG1haW4oKSB7CiAgCiAgICBtYXgoMTAuNWYsIDUuNSk7CiAgCn0KCg==&amp;insightsOptions=cpp2a&amp;std=cpp2a&amp;rev=1.0" class="">C++ Insights</a> ausprobieren.</div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826275_bce7560cee.png" title="<ir_inline itemname=bilder_mvp_bild_var2:5 type=2>" style="max-height: 25px; max-width: 25px;"><br></div>
<div class="text">Wow! Was passiert hier? Warum wird der <span class="tx_code">float</span> nicht zu einem <span class="tx_code">double</span> erweitert? Ehrlich gesagt, der Compiler denkt anders:</div>
<div class="text"><ul><li>Der Compiler bestimmt die Template-Argumente mithilfe der Funktions-Argumente, falls dies möglich ist. In diesem Fall ist es möglich.</li><li>Der Compiler führt diesen Prozess der Bestimmung der Template-Argumente für jedes Funktions-Argument durch.</li><li>Für <span class="tx_code">10,5f</span> bestimmt der Compiler <span class="tx_code">float</span> für<span class="tx_code"> T,</span> für <span class="tx_code">5,5</span> bestimmt der Compiler <span class="tx_code">double</span> für<span class="tx_code"> T</span>.</li><li>Natürlich kann <span class="tx_code">T</span> nicht gleichzeitig <span class="tx_code">float</span> und <span class="tx_code">double</span> sein. Wegen dieser Zweideutigkeit schlägt die Kompilierung fehl.<br></li></ul></div>
<div class="text">Zweite Einschränkung: Ich habe den Prozess der Ableitung von Template-Argumenten vereinfacht. Ich werde in einem zukünftigen Post über Template-Argument-Deduktion für Funktions- und Klassen-Templates schreiben.</div>
<div class="text">Natürlich wollen wir Werte unterschiedlichen Typs vergleichen.</div>
<div class="ztitel">Zwei Typ-Parameter<br></div>
<div class="text">Die Lösung scheint ganz einfach zu sein. Ich führe einfach einen zweiten Typ-Parameter ein.</div>
<div class="pre">template &lt;Typname T, Typname T2&gt;<br>max(T lhs,T2 rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>int main() {<br>&nbsp; <br>&nbsp;&nbsp;&nbsp; max(10.5f, 5.5);<br>&nbsp; <br>}</div>
<div class="text">Einfacher geht es nicht! Oder? Es gibt eine ernsthafte Herausforderung in diesem Beispiel. Man beachte die drei Fragezeichen als Rückgabetyp. Dieses Problem tritt typischerweise dann auf, wenn das Funktions-Template mehr als einen Typ-Parameter besitzt. Welchen Rückgabetyp benötigt das Funktions-Template? Soll in diesem konkreten Fall, sollte der Rückgabetyp <span class="tx_code">T, T2</span>, oder ein von <span class="tx_code">T</span> und <span class="tx_code">T2</span> abgeleiteter Typ<span class="tx_code"> R </span>sein? Das war vor C++11 eine herausfordernde Aufgabe, aber mit C++11 ist es ziemlich einfach.</div>
<div class="text">Hier sind ein paar Lösungen, die ich im Kopf habe:</div>
<div class="pre">// automaticReturnTypeDeduction.cpp<br><br>#include &lt;type_traits&gt;<br><br>template &lt;typename T1, typename T2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // (1)<br>typename std::conditional&lt;(sizeof(T1) &gt; sizeof(T2)), <br>&nbsp; T1, T2&gt;::type max1(T1 lhs,T2 rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>template &lt;typename T1, typename T2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // (2)<br>typename std::common_type&lt;T1, T2&gt;::type max2(T1 lhs,T2 rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>template &lt;typename T1, typename T2&gt;&nbsp;&nbsp;&nbsp;&nbsp; // (3)<br>auto max3(T1 lhs,T2 rhs) {<br>&nbsp;&nbsp;&nbsp; return (lhs &gt; rhs)? lhs : rhs;<br>}<br><br>int main() {<br>&nbsp; <br>&nbsp;&nbsp;&nbsp; max1(10.5f, 5.5);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp; max2(10.5f, 5.5);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp; max3(10.5f, 5.5);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp; <br>}</div>
<div class="text">Die ersten beiden Versionen <span class="tx_code">max1</span> (1) und <span class="tx_code">max2</span> (2) basieren auf der type-traits Bibliothek. Die dritte Version <span class="tx_code">max3</span> (3) nutzt die automatische Typableitung von <span class="tx_code">auto</span>.</div>
<div class="text"><ul><li><span class="tx_code">max1</span> (1): <span class="tx_code">typename std::conditional&lt;(sizeof(T1) &gt; sizeof(T2)), T1, T2&gt;::type</span> gibt den Typ <span class="tx_code">T1</span> oder <span class="tx_code">T2</span> zurück, der größer ist. <a title="Link auf https://en.cppreference.com/w/cpp/types/conditional" alt="%7B%22ir_link%22%3A1%2C%22version%22%3A1%2C%22user_params%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22mediasync_id%22%3A%22%22%2C%22destination%22%3A%22https%3A%2F%2Fen.cppreference.com%2Fw%2Fcpp%2Ftypes%2Fconditional%22%2C%22target%22%3A%22_blank%22%2C%22anchor%22%3A%22%22%2C%22alias%22%3A%22%22%2C%22href%22%3A%22https%3A%2F%2Fen.cppreference.com%2Fw%2Fcpp%2Ftypes%2Fconditional%22%2C%22text%22%3A%22std%3A%3Aconditional%22%2C%22custom%22%3A%7B%7D%2C%22subject%22%3A%22%22%7D" href="https://en.cppreference.com/w/cpp/types/conditional" class="">std::conditional</a> ist eine Art ternärer Operator zur Kompilierzeit.</li></ul><ul><li><span class="tx_code">max2</span> (2):<span class="tx_code"> typename td::common_type&lt;T1, T2&gt;::type</span> gibt den gemeinsamen Typ der Typen<span class="tx_code"> T1</span> und <span class="tx_code">T2</span> zurück. <a title="Link auf https://en.cppreference.com/w/cpp/types/common_type" alt="%7B%22mediasync_id%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22target%22%3A%22_blank%22%2C%22destination%22%3A%22https%3A%2F%2Fen.cppreference.com%2Fw%2Fcpp%2Ftypes%2Fcommon_type%22%2C%22anchor%22%3A%22%22%2C%22custom%22%3A%7B%7D%2C%22text%22%3A%22std%3A%3Acommon_type%22%2C%22href%22%3A%22https%3A%2F%2Fen.cppreference.com%2Fw%2Fcpp%2Ftypes%2Fcommon_type%22%2C%22alias%22%3A%22%22%2C%22subject%22%3A%22%22%2C%22version%22%3A1%2C%22ir_link%22%3A1%2C%22user_params%22%3A%22%22%7D" href="https://en.cppreference.com/w/cpp/types/common_type" class="">std::common_type</a> kann eine beliebige Anzahl von Argumenten akzeptieren.</li><li><span class="tx_code">max3</span> (3): <span class="tx_code">auto</span> sollte selbsterklärend sein.</li></ul></div>
<div class="text">Der <span class="tx_code">typename</span> vor dem Rückgabetyp der Funktions-Templates <span class="tx_code">max1</span> und <span class="tx_code">max2</span> mag irritieren: <span class="tx_code">T1</span> und <span class="tx_code">T2</span> sind abhängige Namen. Ein abhängiger Name ist ein Name, der von einem Template-Parameter abhängt. In diesem Fall müssen wir dem Compiler einen Hinweis geben, dass <span class="tx_code">T1</span> und <span class="tx_code">T2</span> Typen sind. <span class="tx_code">T1</span> und <span class="tx_code">T2</span> könnten auch Nicht-Typen oder Templates sein.</div>
<div class="text">Dritte Einschränkung: Ich schreibe in einem weiteren Artikel über abhängige Typen.<br> </div>
<div class="text">Schauen wir uns an, was C++ Insights bietet. Ich zeige nur die Template-Instanziierungen. Wer das gesamte Programm analysieren willt, folge diesem Link: <a title="Link auf https://cppinsights.io/lnk?code=Ly8gYXV0b21hdGljUmV0dXJuVHlwZURlZHVjdGlvbi5jcHAKCiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KCnRlbXBsYXRlIDx0eXBlbmFtZSBUMSwgdHlwZW5hbWUgVDI+ICAgICAgLy8gKDEpCnR5cGVuYW1lIHN0ZDo6Y29uZGl0aW9uYWw8KHNpemVvZihUMSkgPiBzaXplb2YoVDIpKSwgVDEsIFQyPjo6dHlwZSBtYXgxKFQxIGxocyxUMiByaHMpIHsKICAgIHJldHVybiAobGhzID4gcmhzKT8gbGhzIDogcmhzOwp9Cgp0ZW1wbGF0ZSA8dHlwZW5hbWUgVDEsIHR5cGVuYW1lIFQyPiAgICAgIC8vICgyKQp0eXBlbmFtZSBzdGQ6OmNvbW1vbl90eXBlPFQxLCBUMj46OnR5cGUgbWF4MihUMSBsaHMsVDIgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKdGVtcGxhdGUgPHR5cGVuYW1lIFQxLCB0eXBlbmFtZSBUMj4gICAgIC8vICgzKQphdXRvIG1heDMoVDEgbGhzLFQyIHJocykgewogICAgcmV0dXJuIChsaHMgPiByaHMpPyBsaHMgOiByaHM7Cn0KCmludCBtYWluKCkgewogIAogIAltYXgxKDEwLjVmLCA1LjUpOyAgICAgICAgICAgICAgICAgIAogICAgbWF4MigxMC41ZiwgNS41KTsgICAgICAgICAgICAgICAgICAKICAgIG1heDMoMTAuNWYsIDUuNSk7ICAgICAgICAgICAgICAgICAgCiAgCn0=&amp;insightsOptions=cpp2a&amp;std=cpp2a&amp;rev=1.0" alt="%7B%22version%22%3A1%2C%22ir_link%22%3A1%2C%22user_params%22%3A%22%22%2C%22mediasync_id%22%3A%22%22%2C%22type%22%3A%22E%22%2C%22target%22%3A%22_blank%22%2C%22anchor%22%3A%22%22%2C%22destination%22%3A%22https%3A%2F%2Fcppinsights.io%2Flnk%3Fcode%3DLy8gYXV0b21hdGljUmV0dXJuVHlwZURlZHVjdGlvbi5jcHAKCiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KCnRlbXBsYXRlIDx0eXBlbmFtZSBUMSwgdHlwZW5hbWUgVDI%2BICAgICAgLy8gKDEpCnR5cGVuYW1lIHN0ZDo6Y29uZGl0aW9uYWw8KHNpemVvZihUMSkgPiBzaXplb2YoVDIpKSwgVDEsIFQyPjo6dHlwZSBtYXgxKFQxIGxocyxUMiByaHMpIHsKICAgIHJldHVybiAobGhzID4gcmhzKT8gbGhzIDogcmhzOwp9Cgp0ZW1wbGF0ZSA8dHlwZW5hbWUgVDEsIHR5cGVuYW1lIFQyPiAgICAgIC8vICgyKQp0eXBlbmFtZSBzdGQ6OmNvbW1vbl90eXBlPFQxLCBUMj46OnR5cGUgbWF4MihUMSBsaHMsVDIgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKdGVtcGxhdGUgPHR5cGVuYW1lIFQxLCB0eXBlbmFtZSBUMj4gICAgIC8vICgzKQphdXRvIG1heDMoVDEgbGhzLFQyIHJocykgewogICAgcmV0dXJuIChsaHMgPiByaHMpPyBsaHMgOiByaHM7Cn0KCmludCBtYWluKCkgewogIAogIAltYXgxKDEwLjVmLCA1LjUpOyAgICAgICAgICAgICAgICAgIAogICAgbWF4MigxMC41ZiwgNS41KTsgICAgICAgICAgICAgICAgICAKICAgIG1heDMoMTAuNWYsIDUuNSk7ICAgICAgICAgICAgICAgICAgCiAgCn0%3D%26amp%3BinsightsOptions%3Dcpp2a%26amp%3Bstd%3Dcpp2a%26amp%3Brev%3D1.0%22%2C%22custom%22%3A%7B%7D%2C%22text%22%3A%22C%2B%2B%20Insights%22%2C%22href%22%3A%22https%3A%2F%2Fcppinsights.io%2Flnk%3Fcode%3DLy8gYXV0b21hdGljUmV0dXJuVHlwZURlZHVjdGlvbi5jcHAKCiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KCnRlbXBsYXRlIDx0eXBlbmFtZSBUMSwgdHlwZW5hbWUgVDI%2BICAgICAgLy8gKDEpCnR5cGVuYW1lIHN0ZDo6Y29uZGl0aW9uYWw8KHNpemVvZihUMSkgPiBzaXplb2YoVDIpKSwgVDEsIFQyPjo6dHlwZSBtYXgxKFQxIGxocyxUMiByaHMpIHsKICAgIHJldHVybiAobGhzID4gcmhzKT8gbGhzIDogcmhzOwp9Cgp0ZW1wbGF0ZSA8dHlwZW5hbWUgVDEsIHR5cGVuYW1lIFQyPiAgICAgIC8vICgyKQp0eXBlbmFtZSBzdGQ6OmNvbW1vbl90eXBlPFQxLCBUMj46OnR5cGUgbWF4MihUMSBsaHMsVDIgcmhzKSB7CiAgICByZXR1cm4gKGxocyA%2BIHJocyk%252FIGxocyA6IHJoczsKfQoKdGVtcGxhdGUgPHR5cGVuYW1lIFQxLCB0eXBlbmFtZSBUMj4gICAgIC8vICgzKQphdXRvIG1heDMoVDEgbGhzLFQyIHJocykgewogICAgcmV0dXJuIChsaHMgPiByaHMpPyBsaHMgOiByaHM7Cn0KCmludCBtYWluKCkgewogIAogIAltYXgxKDEwLjVmLCA1LjUpOyAgICAgICAgICAgICAgICAgIAogICAgbWF4MigxMC41ZiwgNS41KTsgICAgICAgICAgICAgICAgICAKICAgIG1heDMoMTAuNWYsIDUuNSk7ICAgICAgICAgICAgICAgICAgCiAgCn0%3D%26amp%3BinsightsOptions%3Dcpp2a%26amp%3Bstd%3Dcpp2a%26amp%3Brev%3D1.0%22%2C%22alias%22%3A%22%22%2C%22subject%22%3A%22%22%7D" href="https://cppinsights.io/lnk?code=Ly8gYXV0b21hdGljUmV0dXJuVHlwZURlZHVjdGlvbi5jcHAKCiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KCnRlbXBsYXRlIDx0eXBlbmFtZSBUMSwgdHlwZW5hbWUgVDI+ICAgICAgLy8gKDEpCnR5cGVuYW1lIHN0ZDo6Y29uZGl0aW9uYWw8KHNpemVvZihUMSkgPiBzaXplb2YoVDIpKSwgVDEsIFQyPjo6dHlwZSBtYXgxKFQxIGxocyxUMiByaHMpIHsKICAgIHJldHVybiAobGhzID4gcmhzKT8gbGhzIDogcmhzOwp9Cgp0ZW1wbGF0ZSA8dHlwZW5hbWUgVDEsIHR5cGVuYW1lIFQyPiAgICAgIC8vICgyKQp0eXBlbmFtZSBzdGQ6OmNvbW1vbl90eXBlPFQxLCBUMj46OnR5cGUgbWF4MihUMSBsaHMsVDIgcmhzKSB7CiAgICByZXR1cm4gKGxocyA+IHJocyk%2FIGxocyA6IHJoczsKfQoKdGVtcGxhdGUgPHR5cGVuYW1lIFQxLCB0eXBlbmFtZSBUMj4gICAgIC8vICgzKQphdXRvIG1heDMoVDEgbGhzLFQyIHJocykgewogICAgcmV0dXJuIChsaHMgPiByaHMpPyBsaHMgOiByaHM7Cn0KCmludCBtYWluKCkgewogIAogIAltYXgxKDEwLjVmLCA1LjUpOyAgICAgICAgICAgICAgICAgIAogICAgbWF4MigxMC41ZiwgNS41KTsgICAgICAgICAgICAgICAgICAKICAgIG1heDMoMTAuNWYsIDUuNSk7ICAgICAgICAgICAgICAgICAgCiAgCn0=&amp;insightsOptions=cpp2a&amp;std=cpp2a&amp;rev=1.0" class="">C++ Insights</a>.<br></div>
<div class="text"><ul><li><span class="tx_code">max1</span>(1): Hier lässt sich nur raten, welchen Rückgabetyp das Funktions-Template besitzt. In der Rückgabeanweisung wird der kleinere Typ (<span class="tx_code">float</span>) zu <span class="tx_code">double</span> umgewandelt.</li></ul></div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826281_da42468085.png" title="<ir_inline itemname=bilder_mvp_bild_var2:6 type=2>" style="max-height: 25px; max-width: 25px;"><br></div>
<div class="text"><ul><li><span class="tx_code">max2</span>(2): Wie bei <span class="tx_code">max1</span> lässt die Rückgabeanweisung den Rückgabetyp erahnen: der <span class="tx_code">float</span>-Wert wird zu <span class="tx_code">double</span> gewandelt.</li></ul></div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826289_9309d5977c.png" title="<ir_inline itemname=bilder_mvp_bild_var2:7 type=2>" style="max-height: 25px; max-width: 25px;"><br></div>
<div class="text"><ul><li><span class="tx_code">max3</span> (3): Jetzt können wir den Rückgabetyp explizit sehen: Es ist ein <span class="tx_code">double</span>.</li></ul></div>
<div class="text"><img class="rteInlinetag" src="https://heise-cms.de/thumbs//3/1/0/3/5/4/6/TN_210826296_a8b80c66a6.png" title="<ir_inline itemname=bilder_mvp_bild_var2:8 type=2>" style="max-height: 25px; max-width: 25px;"></div>
<div class="ztitel">Wie geht es weiter?</div>
<div class="text">In diesem Artikel habe ich die Herausforderung unterschiedlicher Typen der Funktions-Argumente gelöst, indem ich mehrere Typ-Parameter verwendet habe. In meinem nächsten Artikel wähle ich einen anderen Ansatz und gebe die Template-Argumente explizit an.<br></div>
<div class="text"><br></div>